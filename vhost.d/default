## Start of configuration add by letsencrypt container
location ^~ /.well-known/acme-challenge/ {
    auth_basic off;
    auth_request off;
    allow all;
    root /usr/share/nginx/html;
    try_files $uri =404;
    break;
}
## End of configuration add by letsencrypt container
## start of Chisel's tweaks and additions
add_header X-Clacks-Overhead "GNU Terry Pratchett";
# https://serverfault.com/a/927668
proxy_hide_header Strict-Transport-Security;
add_header Strict-Transport-Security "; includeSubDomains; preload";
# https://report-uri.com/home/generate
add_header Content-Security-Policy "default-src 'self'; script-src 'self'; script-src-elem 'self' code.jquery.com kit.fontawesome.com maps.googleapis.com cdn.rawgit.com www.google-analytics.com www.googletagmanager.com; script-src-attr; style-src 'self' pro.fontawesome.com; style-src-elem 'self' fonts.googleapis.com pro.fontawesome.com kit-pro.fontawesome.com; style-src-attr; img-src 'self' www.google-analytics.com; font-src fonts.gstatic.com cdn.jsdelivr.net pro.fontawesome.com kit-pro.fontawesome.com; connect-src www.google-analytics.com www.googletagmanager.com; media-src; object-src 'self'; prefetch-src; child-src; frame-src; worker-src; frame-ancestors; form-action 'self'; base-uri 'self'; manifest-src 'self'; plugin-types no/plugins; report-uri; report-to";
add_header X-Override-Sanity-Check "Sure Thing";
add_header X-Content-Type-Options "nosniff";
add_header X-Frame-Options "deny";
add_header Referrer-Policy "no-referrer";
# end of Chisel's tweaks and additions
